{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p> Rate limiting for django using limits. </p> <p>Documentation: https://django-ratelimiter.readthedocs.io</p> <p>Sources: https://github.com/andriykohut/django-ratelimiter</p> <p>Django ratelimiter provides a decorator to wrap Django views. It relies on limits library.</p> <p>By default it uses it's own storage backend based on django cache, but it can also use storages provided by limits.</p>"},{"location":"#quickstart","title":"Quickstart","text":""},{"location":"#django-configuration","title":"Django configuration","text":"<p>With django cache storage:</p> <pre><code># Set up django caches\nCACHES = {\n    \"redis\": {\n        \"BACKEND\": \"django.core.cache.backends.redis.RedisCache\",\n        \"LOCATION\": \"redis://127.0.0.1:6379\",\n    }\n}\n\n# \"default\" cache is used if setting is not defined.\nDJANGO_RATELIMITER_CACHE = \"redis\"\n</code></pre> <p>With <code>limits</code> storage:</p> <pre><code>from limits.storage import RedisStorage\n\nDJANGO_RATELIMITER_STORAGE = RedisStorage(uri=\"redis://localhost:6379/0\")\n</code></pre>"},{"location":"#view-decorator","title":"View decorator","text":"<p>By default all requests are rate limited</p> <pre><code>from django_ratelimiter import ratelimit\n\n@ratelimit(\"5/minute\")\ndef view(request: HttpRequest) -&gt; HttpResponse:\n    return HttpResponse(\"OK\")\n</code></pre> <p>Per-user limits (using request attribute key)</p> <pre><code>@ratelimit(\"5/minute\", key=\"user\")\ndef view(request: HttpRequest) -&gt; HttpResponse:\n    return HttpResponse(\"OK\")\n</code></pre> <p>Callable key can be used to define more complex rules</p> <pre><code>@ratelimit(\"5/minute\", key=lambda r: r.user.username)\ndef view(request: HttpRequest) -&gt; HttpResponse:\n    return HttpResponse(\"OK\")\n</code></pre> <p>Define which HTTP methods to rate limit</p> <pre><code>@ratelimit(\"5/minute\", methods=[\"POST\", \"PUT\"])\ndef view(request):\n    return HttpResponse(\"OK\")\n</code></pre> <p>Custom response:</p> <pre><code>from django.http import HttpResponse\n\n@ratelimit(\"5/minute\", response=HttpResponse(\"Too many requests\", status=400))\ndef view(request):\n    return HttpResponse(\"OK\")\n</code></pre> <p>Per-view storage:</p> <pre><code>from limits.storage import RedisStorage\n\n@ratelimit(\"5/minute\", storage=RedisStorage(uri=\"redis://localhost:6379/0\"))\ndef view(request):\n    return HttpResponse(\"OK\")\n</code></pre>"}]}